import React, { Component } from "react"
import { Button, Typography, TextField } from "@material-ui/core"
import styles from "./styles.module.css"
import axios from "axios"

export default class Main extends Component {
  constructor() {
    super()
    this.setState({ sewerUnlocked: false })
  }

  componentDidMount() {
    this.getSewerUnlocked()
  }

  getSewerUnlocked = () => {
    axios
      .get("/api/er/sewer_get_unlocked", {
        params: {
          teamId: this.props.teamId,
        },
      })
      .then((res) => {
        this.setState({
          sewerUnlocked: res.data.unlocked,
        })
        console.log(res)
      })
      .catch((err) => {
        console.error(err)
      })
  }

  render() {
    return (
      <>
        {/* Image Map Generated by https://12oss.github.io/linkresponsively/ */}

        <img src="/media/MainRoom.png" width="100%" />
        <form onSubmit={this.handleSubmit} noValidate autoComplete="off">
          <input type="text" className={styles.text1} />
          <input type="text" className={styles.text2} />
          <input type="text" className={styles.text3} />
        </form>
        {this.props.equipped === "paperclip" && (
          <a
            href="/er/spy"
            className={styles.sewer}
            style={{ cursor: `url(/media/paperclip_cursor.png), auto` }}
          />
        )}
      </>
    )
  }
}
