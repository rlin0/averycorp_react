import React, { Component } from "react"
import { Button, Typography, TextField } from "@material-ui/core"
import styles from "./styles.module.css"
import axios from "axios"
import Clock from "react-clock"
import "react-clock/dist/Clock.css"

export default class Main extends Component {
  constructor(props) {
    super(props)
    this.state = {
      date: new Date(),
      interval: null,
    }
  }

  componentDidMount() {
    this.setState({
      interval: setInterval(() => this.setState({ date: new Date() }), 1000),
    })
  }

  componentWillUnmount() {
    clearInterval(this.state.interval)
  }

  render() {
    return (
      <>
        {/* Image Map Generated by https://12oss.github.io/linkresponsively/ */}

        <img src="/media/MainRoom.png" width="100%" />
        <form onSubmit={this.handleSubmit} noValidate autoComplete="off">
          <input type="text" className={styles.text1} />
          <input type="text" className={styles.text2} />
          <input type="text" className={styles.text3} />
        </form>
        <div className={styles.clock}>
          <Clock
            value={new Date()}
            // styleName={styles.clock}
            size={100}
          />
        </div>

        {this.props.equipped === "paperclip" && (
          <a
            href="/er/spy"
            className={styles.sewer}
            style={{ cursor: `url(/media/paperclip_cursor.png), auto` }}
            onClick={this.props.putSewerUnlocked}
          />
        )}
      </>
    )
  }
}
